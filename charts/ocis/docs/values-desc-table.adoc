[caption=]
.Values for the ocis Helm Chart
[width="100%",cols="~,~,~,~",options="header"]
|===
| Key
| Type
| Default
| Description
| autoscaling.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables autoscaling. When set to `true`, `replicas` is no longer applied.
| autoscaling.maxReplicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`10`
| Sets maximum replicas for autoscaling.
| autoscaling.metrics
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Metrics to use for autoscaling
| autoscaling.minReplicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`3`
| Sets minimum replicas for autoscaling.
| cache.nodes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Nodes of the cache to use.
| cache.type
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"noop"`
| Type of the cache to use. To disable the cache, set to "noop". Can be set to "redis", then the address of Redis nodes needs to be set to `cache.nodes`.
| configRefs.storageUsersConfigRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"storage-users"`
| Reference to an existing storage-users config.
| debug.profiling
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Profiling enables the http://<pod>:<debug-metrics>/debug/pprof endpoint to inspect various Go runtime internals. You can use the endpoint on your machine by forwarding the port, eg: `kubectl port-forward -n ocis pod/auth-basic-8587dc9d64-fs24l 9147:9147` and then accessing the port on https://localhost:9147/debug/pprof or using the pprof command line tool: `go tool pprof -web http://localhost:9147/debug/pprof/symbol\?seconds\=10`
| deploymentStrategy
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{"type":"RollingUpdate"}`
| Deployment strategy.
| externalDomain
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ocis.owncloud.test"`
| Domain where oCIS is reachable for the outside world
| extraLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Custom labels for all manifests
| extraResources
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Extra resources to be included.
| features.appsIntegration.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the apps integration.
| features.appsIntegration.mimetypes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
default configuration of oCIS, see https://doc.owncloud.com/ocis/next/deployment/services/s-list/app-registry.html#yaml-example[doc.owncloud.com]
| Mimetype configuration. Let's you configure a mimetypes' default application, if it is allowed to create a new file and more.
| features.appsIntegration.wopiIntegration.officeSuites[0].enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[0].iconURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://collabora.owncloud.test/favicon.ico"`
| URI for the icon of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[0].insecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the office suites http api. Not recommended for production installations.
| features.appsIntegration.wopiIntegration.officeSuites[0].name
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"Collabora"`
| Name of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[0].uri
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://collabora.owncloud.test"`
| URI of the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[1].enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the office suite.
| features.appsIntegration.wopiIntegration.officeSuites[1].iconURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://onlyoffice.owncloud.test/web-apps/apps/documenteditor/main/resources/img/favicon.ico"`
| URI for the icon of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[1].insecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the office suites http api. Not recommended for production installations.
| features.appsIntegration.wopiIntegration.officeSuites[1].name
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"OnlyOffice"`
| Name of the office suite. Will be displayed to the users.
| features.appsIntegration.wopiIntegration.officeSuites[1].uri
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://onlyoffice.owncloud.test"`
| URI of the office suite.
| features.appsIntegration.wopiIntegration.wopiServerURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://wopiserver.owncloud.test"`
| URL of the https://github.com/cs3org/wopiserver[cs3org/wopiserver]. Can be deployed https://artifacthub.io/packages/helm/cs3org/wopiserver[with this Chart].
| features.basicAuthentication
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enable basic authentication. Not recommended for production installations.
| features.demoUsers
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Create demo users on the first startup. Not recommended for production installations.
| features.emailNotifications.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables email notifications. This features needs the secret from notificationsSmtpSecretRef present.
| features.emailNotifications.smtp.authentication
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"none"`
| Authentication method for the SMTP communication. Possible values are ‘login’, ‘plain’, ‘crammd5’, ‘none’
| features.emailNotifications.smtp.encryption
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"none"`
| Encryption method for the SMTP communication. Possible values are ‘starttls’, ‘ssl’, ‘ssltls’, ‘tls’ and ‘none’.
| features.emailNotifications.smtp.host
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| SMTP host to connect to.
| features.emailNotifications.smtp.port
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Port of the SMTP host to connect to.
| features.emailNotifications.smtp.sender
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Sender address of emails that will be sent. Example: 'ownCloud <noreply@example.com>'
| features.externalUserManagement.adminUUID
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| UUID of the inital admin user. If the given value matches a user's value from `features.externalUserManagement.oidc.userIDClaim`, the admin role will be assigned.
| features.externalUserManagement.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables external user management (and disables internal user management). Needs an external OpenID Connect Identity Provider and an external LDAP server.
| features.externalUserManagement.ldap.bindDN
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"uid=ocis,ou=system-users,dc=owncloud,dc=test"`
| DN of the user to use to bind to the LDAP server. The password for the user needs to be set in the secret referenced by `secretRefs.ldapSecretRef` as `reva-ldap-bind-password`. The user needs to have permission to list users and groups.
| features.externalUserManagement.ldap.certTrusted
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`true`
| Set only to false, if the certificate of your LDAP secure service is not trusted. If set to false, you need to put the CA cert of the LDAP secure server into the secret referenced by "ldapCaRef"
| features.externalUserManagement.ldap.group.baseDN
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ou=groups,dc=owncloud,dc=com"`
| Search base DN for looking up LDAP groups.
| features.externalUserManagement.ldap.group.filter
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| LDAP filter to add to the default filters for group searches.
| features.externalUserManagement.ldap.group.objectClass
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"groupOfNames"`
| The object class to use for groups in the default group search filter like `groupOfNames`.
| features.externalUserManagement.ldap.group.schema.displayName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"cn"`
| LDAP Attribute to use for the displayname of groups (often the same as groupname attribute).
| features.externalUserManagement.ldap.group.schema.groupName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"cn"`
| LDAP Attribute to use for the name of groups.
| features.externalUserManagement.ldap.group.schema.id
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ownclouduuid"`
| LDAP Attribute to use as the unique ID for groups. This should be a stable globally unique ID like a UUID.
| features.externalUserManagement.ldap.group.schema.idIsOctetString
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Set this to true if the defined `id` attribute for groups is of the `OCTETSTRING` syntax. This is e.g. required when using the `objectGUID` attribute of Active Directory for the group ID`s.
| features.externalUserManagement.ldap.group.schema.mail
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"mail"`
| LDAP Attribute to use for the email address of groups (can be empty).
| features.externalUserManagement.ldap.group.schema.member
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"member"`
| LDAP Attribute that is used for group members.
| features.externalUserManagement.ldap.group.scope
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"sub"`
| LDAP search scope to use when looking up groups. Supported values are `base`, `one` and `sub`.
| features.externalUserManagement.ldap.insecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| For self signed certificates, consider to put the CA cert of the LDAP secure server into the secret referenced by "ldapCaRef" Not recommended for production installations.
| features.externalUserManagement.ldap.uri
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldaps://ldaps.owncloud.test"`
| URI to connect to the LDAP secure server.
| features.externalUserManagement.ldap.user.baseDN
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ou=users,dc=owncloud,dc=com"`
| Search base DN for looking up LDAP users.
| features.externalUserManagement.ldap.user.filter
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| LDAP filter to add to the default filters for user search like `(objectclass=ownCloud)`.
| features.externalUserManagement.ldap.user.objectClass
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"inetOrgPerson"`
| The object class to use for users in the default user search filter like `inetOrgPerson`.
| features.externalUserManagement.ldap.user.schema.displayName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"displayname"`
| LDAP Attribute to use for the displayname of users.
| features.externalUserManagement.ldap.user.schema.id
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ownclouduuid"`
| LDAP Attribute to use as the unique id for users. This should be a stable globally unique id like a UUID.
| features.externalUserManagement.ldap.user.schema.idIsOctetString
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Set this to true if the defined `id` attribute for users is of the `OCTETSTRING` syntax. This is e.g. required when using the `objectGUID` attribute of Active Directory for the user ID`s.
| features.externalUserManagement.ldap.user.schema.mail
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"mail"`
| LDAP Attribute to use for the email address of users.
| features.externalUserManagement.ldap.user.schema.userName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"uid"`
| LDAP Attribute to use for username of users.
| features.externalUserManagement.ldap.user.scope
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"sub"`
| LDAP search scope to use when looking up users. Supported values are `base`, `one` and `sub`.
| features.externalUserManagement.ldap.user.substringFilterType
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"any"`
| Type of substring search filter to use for substring searches for users. Possible values: `initial` for doing prefix only searches, `final` for doing suffix only searches or `any` for doing full substring searches
| features.externalUserManagement.oidc.issuerURI
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://idp.owncloud.test/realms/ocis"`
| Issuer URI of the OpenID Connect Identity Provider. If the IDP doesn't have valid / trusted SSL certificates, certificate validation can be disabled with the `insecure.oidcIdpInsecure` option.
| features.externalUserManagement.oidc.userIDClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ocis.user.uuid"`
| Claim to take an unique user identifier from. It will be used to look up the user on the LDAP server.
| features.externalUserManagement.oidc.userIDClaimAttributeMapping
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"userid"`
| Attribute mapping of for the userIDClaim. Set to `userid` if the claim specified in `...oidc.userIDClaim` holds the value of the ldap user attribute specified in `...ldap.user.schema.id`. Set to `mail` if the claim specified in `...oidc.userIDClaim` holds the value of the ldap user attribute specified in  `...ldap.user.schema.mail`. Set to `username` if the claim specified in `...oidc.userIDClaim` holds the value of the ldap user attribute specified in `...ldap.user.schema.id`.
| image.pullPolicy
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"IfNotPresent"`
| Image pull policy
| image.repository
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"owncloud/ocis"`
| Image repository
| image.sha
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| Image sha / digest (optional).
| image.tag
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| Image tag. Defaults to the chart's appVersion.
| ingress.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Ingress annotations.
| ingress.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables the Ingress.
| ingress.ingressClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Ingress class to use. Uses the default ingress class if not set.
| ingress.labels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Labels for the ingress.
| ingress.tls
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Ingress TLS configuration.
| insecure.ocisHttpApiInsecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the oCIS http apis. Not recommended for production installations.
| insecure.oidcIdpInsecure
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables SSL certificate checking for connections to the openID connect identity provider. Not recommended for production installations.
| logging.color
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"false"`
| Activates colorized log output. Not recommended for production installations.
| logging.level
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"error"`
| Log level. Valid values: `panic`, `fatal`, `error`, `warn`, `info`, `debug`, `trace`.
| logging.pretty
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"false"`
| Activates pretty log output. Not recommended for production installations.
| namespaceOverride
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Override the deployment namespace of all resources in this Helm chart.
| replicas
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1`
| Number of replicas for each scalable service. Has no effect when `autoscaling.enabled` is set to `true`.
| resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Default resources to apply to all services, except per-service resources configuration in `services.<service-name>.resources` is set. Best practice is to: - set memory request == memory limit (compare to https://home.robusta.dev/blog/kubernetes-memory-limit) - set cpu request and omit cpu limit (compare to https://home.robusta.dev/blog/stop-using-cpu-limits)
| secretRefs.adminUserSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"admin-user"`
| Reference to an existing admin user secret (see xref:{secrets}[Secrets]). Not used if `features.externalUserManagement.enabled` equals `true`.
| secretRefs.idpSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"idp-secrets"`
| Reference to an existing IDP secret (see xref:{secrets}[Secrets]). Not used if `features.externalUserManagement.enabled` equals `true`.
| secretRefs.jwtSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"jwt-secret"`
| Reference to an existing JWT secret (see xref:{secrets}[Secrets]).
| secretRefs.ldapCaRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-ca"`
| Reference to an existing LDAP certificate authority secret (see xref:{secrets}[Secrets])
| secretRefs.ldapCertRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-cert"`
| Reference to an existing LDAP cert secret (see xref:{secrets}[Secrets]). Not used if `features.externalUserManagement.enabled` equals `true`.
| secretRefs.ldapSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ldap-bind-secrets"`
| Reference to an existing LDAP bind secret (see xref:{secrets}[Secrets]).
| secretRefs.machineAuthApiKeySecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"machine-auth-api-key"`
| Reference to an existing machine auth api key secret (see xref:{secrets}[Secrets])
| secretRefs.notificationsSmtpSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"notifications-smtp-secret"`
| Reference to an existing SMTP email server settings secret (see xref:{secrets}[Secrets]). Not used if `features.emailNotifications.enabled` equals `false`.
| secretRefs.storageSystemJwtSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"storage-system-jwt-secret"`
| Reference to an existing storage-system JWT secret (see xref:{secrets}[Secrets])
| secretRefs.storageSystemSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"storage-system"`
| Reference to an existing storage-system secret (see xref:{secrets}[Secrets])
| secretRefs.thumbnailsSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"thumbnails-transfer-secret"`
| Reference to an existing thumbnails transfer secret (see xref:{secrets}[Secrets])
| secretRefs.transferSecretSecretRef
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"transfer-secret"`
| Reference to an existing transfer secret (see xref:{secrets}[Secrets])
| securityContext.fsGroup
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| File system group for all volumes.
| securityContext.fsGroupChangePolicy
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"OnRootMismatch"`
| File system group change policy for all volumes. Possible values "Always" and "OnRootMismatch".
| securityContext.runAsGroup
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| Group ID that all processes within any containers will run with.
| securityContext.runAsUser
a| [subs=-attributes]
+int+
a| [subs=-attributes]
`1000`
| User ID that all processes within any containers will run with.
| services.appProvider
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| APP PROVIDER service. Not used if `features.appsIntegration.enabled` equals `false`.
| services.appProvider.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.appRegistry
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| APP REGISTRY service. Not used if `features.appsIntegration.enabled` equals `false`.
| services.appRegistry.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.audit
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| AUDIT service.
| services.audit.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.authBasic
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| AUTH BASIC service. Not used if `features.externalUserManagement.enabled` equals `true`.
| services.authBasic.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.authMachine
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| AUTH MACHINE service.
| services.authMachine.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.frontend
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| FRONTEND service.
| services.frontend.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.gateway
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| GATEWAY service.
| services.gateway.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.graph
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| GRAPH service.
| services.graph.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.groups
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| GROUPS service.
| services.groups.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.idm
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| IDM service. Not used if `features.externalUserManagement.enabled` equals `true`.
| services.idm.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.idm.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.idm.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.idm.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations, except `features.externalUserManagement.enabled` equals `true`. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.idm.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.idm.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.idm.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.idm.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.idm.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.idm.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.idp
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| IDP service. Not used if `features.externalUserManagement.enabled` equals `true`.
| services.idp.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.nats
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| NATS service.
| services.nats.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.nats.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.nats.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.nats.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.nats.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.nats.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.nats.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.nats.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.nats.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.nats.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.notifications
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| NOTIFICATIONS service. Not used if `features.emailNotifications.enabled` equals `true`.
| services.notifications.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.ocdav
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| OCDAV service.
| services.ocdav.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.ocs
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| OCS service.
| services.ocs.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.proxy
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| PROXY service.
| services.proxy.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.search
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| SEARCH service.
| services.search.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.search.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.search.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.search.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.search.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.search.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.search.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.search.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.search.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.search.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.settings
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| SETTINGS service.
| services.settings.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.sharing
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| SHARING service.
| services.sharing.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.storagePublicLink
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| STORAGE-PUBLICLINK service.
| services.storagePublicLink.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.storageShares
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| STORAGE-SHARES service.
| services.storageShares.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.storageSystem
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| STORAGE-SYSTEM service.
| services.storageSystem.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.storageSystem.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.storageSystem.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.storageSystem.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.storageSystem.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.storageSystem.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.storageSystem.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.storageSystem.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"5Gi"`
| Size of the persistent volume.
| services.storageSystem.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.storageSystem.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.storageUsers
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| STORAGE-USERS service.
| services.storageUsers.maintenance.cleanUpExpiredUploads.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a job, that cleans up expired uploads. Requires persistence to be enabled and RWX storage.
| services.storageUsers.maintenance.cleanUpExpiredUploads.schedule
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"* * * * *"`
| Cron pattern for the job to be run. Defaults to every minute.
| services.storageUsers.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.storageUsers.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.storageUsers.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.storageUsers.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.storageUsers.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.storageUsers.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.storageUsers.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.storageUsers.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"50Gi"`
| Size of the persistent volume.
| services.storageUsers.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.storageUsers.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.storageUsers.storageBackend.driver
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"ocis"`
| Configures the storage driver. Possible values are "ocis" and "s3ng". The oCIS driver stores all data in the persistent volume if persistence is enabled. The S3NG driver stores all metadata in the persistent volume and uploads blobs to s3 if persistence is enabled.
| services.storageUsers.storageBackend.driverConfig.s3ng.accessKey
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"lorem-ipsum"`
| S3 access key to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.bucket
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"example-bucket"`
| S3 bucket to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.endpoint
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"https://localhost:1234"`
| S3 endpoint to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.region
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"default"`
| S3 region to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.storageUsers.storageBackend.driverConfig.s3ng.secretKey
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"lorem-ipsum"`
| S3 secret key to use for the S3NG driver. Only used if driver is set to "s3ng".
| services.store
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| STORE service.
| services.store.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance.
| services.store.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.store.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.store.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Needs to be enabled on production installations. If not enabled, pod restarts will lead to data loss. Also scaling this service beyond one instance is not possible if the service instances don't share the same storage.
| services.store.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.store.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["kubernetes.io/pvc-protection"]`
| Persistent volume finalizers.
| services.store.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.store.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"5Gi"`
| Size of the persistent volume.
| services.store.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.store.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.thumbnails
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| THUMBNAILS service.
| services.thumbnails.persistence.accessModes
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`["ReadWriteMany"]`
| Persistent volume access modes. Needs to be `["ReadWriteMany"]` when scaling this service beyond one instance or persistence needs to be disabled.
| services.thumbnails.persistence.annotations
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume annotations.
| services.thumbnails.persistence.chownInitContainer
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables a initContainer to chown the volume. The initContainer is run as root. This is not needed if the driver applies the fsGroup from the securityContext.
| services.thumbnails.persistence.enabled
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Enables persistence. Is recommended to be enabled on production installations. If enabled, generated thumbnails are cached on this volume and available across pod restarts and service instances. If not enabled, thumbnail generation might lead to higher CPU usage.
| services.thumbnails.persistence.existingClaim
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Use an existing PersistentVolumeClaim for persistence.
| services.thumbnails.persistence.finalizers
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Persistent volume finalizers.
| services.thumbnails.persistence.selectorLabels
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Persistent volume selector labels.
| services.thumbnails.persistence.size
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`"10Gi"`
| Size of the persistent volume.
| services.thumbnails.persistence.storageClassName
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`nil`
| Storage class to use. Uses the default storage class if not set.
| services.thumbnails.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.users
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| USERS service.
| services.users.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.web
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| ownCloud WEB service.
| services.web.config.applications
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Configure the {"applications": []} section in the Web config.json.
| services.web.config.apps
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Configure the {"apps": []} section in the Web config.json.
| services.web.config.disableFeedbackLink
a| [subs=-attributes]
+bool+
a| [subs=-attributes]
`false`
| Disables the feedback link in the Web UI.
| services.web.config.externalApplications
a| [subs=-attributes]
+list+
a| [subs=-attributes]
`[]`
| Configure the {"external_apps": []} section in the Web config.json.
| services.web.config.theme.path
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| URL path to load themes from. The theme server will be prepended. Defaults to the ownCloud Web default theme.
| services.web.config.theme.server
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| URL to load themes from. Will be prepended to the theme path. Defaults to the value of "externalDomain".
| services.web.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| services.webdav
a| [subs=-attributes]
+object+
a| [subs=-attributes]
see detailed service configuration options below
| WEBDAV service.
| services.webdav.resources
a| [subs=-attributes]
+object+
a| [subs=-attributes]
`{}`
| Per-service resources configuration. Overrides the default setting from `resources` if set.
| topologySpreadConstraints
a| [subs=-attributes]
+string+
a| [subs=-attributes]
`""`
| TopologySpreadConstraints controls how Pods of a service are spread across the cluster among failure-domains. Defaults to allow skew no more then 1 node per node. Passed through tpl and therefore needs to be configured as string.
|===
